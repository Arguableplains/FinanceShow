<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
  xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6">

<head>
  <title>Página Inicial</title>
  <link rel="stylesheet" th:href="@{/css/output.css}">
</head>

<body class="min-h-screen bg-[#D7ECCD] flex">

  <aside class="w-64 bg-white p-6 shadow-lg min-h-screen flex flex-col justify-between">
    <div>
      <div class="mb-8">
        <img src="/images/logo.svg" alt="Logo" class="w-20 h-20 mx-auto mb-4">
      </div>
      <nav class="flex flex-col space-y-4">
        <a href="/user/profile"
          class="py-2 px-4 bg-[#A5E885] rounded-lg text-black font-medium hover:bg-[#218838] hover:text-white transition duration-150">Atualizar
          Perfil</a>
        <a href="/transaction/registration"
          class="py-2 px-4 bg-[#A5E885] rounded-lg text-black font-medium hover:bg-[#218838] hover:text-white transition duration-150">Adicionar
          Transação</a>
        <a href="/category/list"
          class="py-2 px-4 bg-[#A5E885] rounded-lg text-black font-medium hover:bg-[#218838] hover:text-white transition duration-150">Gerenciar
          Categorias</a>
      </nav>
    </div>
    <form th:action="@{/logout}" method="post">
      <button type="submit"
        class="w-full py-2 px-4 bg-red-500 rounded-lg text-white font-medium hover:bg-red-700 transition duration-150">Sair</button>
    </form>
  </aside>

  <main class="flex-1 p-6">
    <h1 class="text-2xl font-bold mb-4">Olá <span th:remove="tag" sec:authentication="name"></span>!</h1>

    <h2 class="text-xl font-semibold mb-4">Suas Transações</h2>

    <div class="overflow-auto">
      <table class="min-w-full bg-white border border-gray-300 rounded-lg">
        <thead>
          <tr class="bg-gray-100 border-b">
            <th class="py-2 px-4 text-left">ID da Transação</th>
            <th class="py-2 px-4 text-left">Montante</th>
            <th class="py-2 px-4 text-left">Categoria</th>
            <th class="py-2 px-4 text-left">Data</th>
            <th class="py-2 px-4 text-left">Criado em</th>
            <th class="py-2 px-4 text-left">Ação</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="transaction : ${transactions}" class="border-b">
            <td th:text="${transaction.id}" class="py-2 px-4">Transaction ID</td>
            <td th:text="${transaction.amount}" class="py-2 px-4">Amount</td>
            <td th:text="${transaction.category}" class="py-2 px-4">Category</td>
            <td th:text="${transaction.happenedOn}" class="py-2 px-4">Happened On</td>
            <td th:text="${transaction.createdOn}" class="py-2 px-4">Created On</td>
            <td class="py-2 px-4">
              <a th:href="@{/transaction/edit/{id}(id=${transaction.id})}"
                class="text-blue-600 hover:underline">Editar</a>
              <a th:href="@{/transaction/delete/{id}(id=${transaction.id})}"
                class="text-red-600 hover:underline ml-4">Excluir</a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </main>

</body>

</html>